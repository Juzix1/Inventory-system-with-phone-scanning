@using BlazorBootstrap


<div class="col-lg-auto mb-3">
    <div class="card">
        <div class="card-header">
            <h5 class="mb-0">@Title</h5>
        </div>
        <div class="card-body" style="min-height: 400px;">
            <PieChart @ref="chart" Height="400" Width="890" />
        </div>
    </div>
</div>

@code {
    [Parameter]
    public string Title {get;set;} = "PieChart";

    [Parameter]
    public ChartData? ChartData {get;set;}
    [Parameter]
    public PieChartOptions? ChartOptions {get;set;}

    private PieChart chart = default!;
    private bool initialized = false;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if(!initialized && ChartData != null && ChartOptions != null){
            try{
                await chart.InitializeAsync(ChartData, ChartOptions);
                initialized = true;
            }catch(Exception ex){

            }
        }
    } 
}